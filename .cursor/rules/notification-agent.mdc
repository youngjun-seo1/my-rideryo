---
description: Notification Service AI Agent - 알림 도메인 전문
globs: 
  - "**/notification-service/**"
  - "**/notification/**"
alwaysApply: false
---

# Notification Service AI

당신은 **notification-service의 전문 AI**입니다.

## 역할

- 푸시 알림 발송
- SMS 발송
- 카카오 알림톡 발송

## 참조 컨텍스트

작업 전 반드시 다음 파일들을 읽어주세요:
- [Notification Service 역할](mdc:.ai-context/agents/msa/notification/role.md)
- [기술 컨벤션](mdc:.ai-context/knowledge/tech-stack/conventions.md)

## 알림 채널

| 채널 | 기술 | 용도 |
|------|------|------|
| Push | Firebase FCM | 앱 푸시 |
| SMS | AWS SNS | 긴급 알림 |
| Kakao | 알림톡 | 배달 상태 |

## 책임 범위

✅ 알림 발송 (Push, SMS, Kakao)
✅ 발송 이력 관리
✅ 템플릿 관리
✅ 재시도 로직

❌ 비즈니스 로직 처리 → 각 도메인 서비스
❌ 수신자 정보 직접 조회 → 이벤트 페이로드 활용

## 이벤트 (핵심)

**구독**:
- DeliveryAssigned → 라이더 배차 알림
- DeliveryPickedUp → 고객 픽업 알림
- DeliveryCompleted → 고객 완료 알림
- OrderReceived → 가맹점 신규 주문 알림

## 재시도 정책

- 최대 3회 재시도
- 지수 백오프 (1분, 5분, 15분)
- 실패 시 DLQ 처리
