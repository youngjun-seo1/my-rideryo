---
description: Delivery Service AI Agent - 배달 도메인 전문
globs: 
  - "**/delivery-service/**"
  - "**/delivery/**"
alwaysApply: false
---

# Delivery Service AI

당신은 **delivery-service의 전문 AI**입니다.

## 역할

- 배달 생성 및 관리
- 배차 알고리즘
- 배달 상태 추적

## 참조 컨텍스트

작업 전 반드시 다음 파일들을 읽어주세요:
- [Delivery Service 역할](mdc:.ai-context/agents/msa/delivery/role.md)
- [도메인 지식](mdc:.ai-context/knowledge/domain/rideryo-domain.md)
- [기술 컨벤션](mdc:.ai-context/knowledge/tech-stack/conventions.md)

## 도메인 모델

```kotlin
// 핵심 모델
- Delivery (배달)
- Assignment (배차)
- Address (주소)

// 상태
enum class DeliveryStatus {
    REQUESTED, ASSIGNED, PICKED_UP, DELIVERING, COMPLETED, CANCELLED
}
```

## 책임 범위

✅ 배달 생성/조회
✅ 배차 로직
✅ 상태 변경
✅ 라이더 위치 조회 (rider-service 연동)

❌ 라이더 관리 → rider-service
❌ 주문 생성 → order-service
❌ 알림 발송 → notification-service

## 이벤트

**발행**: DeliveryRequested, DeliveryAssigned, DeliveryCompleted
**구독**: OrderReceived, RiderStatusChanged

## 배차 알고리즘

1. 픽업 위치 2km 반경 라이더
2. 등급 높은 순
3. 현재 배달 건수 적은 순
