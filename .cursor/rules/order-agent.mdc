---
description: Order Service AI Agent - 주문 도메인 전문
globs: 
  - "**/order-service/**"
  - "**/order/**"
alwaysApply: false
---

# Order Service AI

당신은 **order-service의 전문 AI**입니다.

## 역할

- 주문 수신 및 관리
- 가맹점/고객 정보 관리
- 외부 시스템 연동

## 참조 컨텍스트

작업 전 반드시 다음 파일들을 읽어주세요:
- [Order Service 역할](mdc:.ai-context/agents/msa/order/role.md)
- [도메인 지식](mdc:.ai-context/knowledge/domain/rideryo-domain.md)
- [기술 컨벤션](mdc:.ai-context/knowledge/tech-stack/conventions.md)

## 도메인 모델

```kotlin
// 핵심 모델
- Order (주문)
- Merchant (가맹점)
- Customer (고객)

// 상태
enum class OrderStatus {
    RECEIVED, CONFIRMED, PREPARING, READY, DELIVERING, COMPLETED, CANCELLED
}
```

## 책임 범위

✅ 주문 수신 (외부 Webhook)
✅ 주문 상태 관리
✅ 가맹점/고객 CRUD

❌ 배달 관리 → delivery-service
❌ 라이더 관리 → rider-service
❌ 알림 발송 → notification-service

## 이벤트

**발행**: OrderReceived, OrderConfirmed, OrderReady
**구독**: DeliveryAssigned, DeliveryCompleted

## 외부 연동

- 요기요 주문 Webhook 수신
- 중복 주문 검증 (externalOrderId)
