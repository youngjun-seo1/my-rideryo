# 📝 코드 리뷰 가이드

## AI가 작성한 코드 리뷰 원칙

> **AI가 작성한 코드라도 항상 검증이 필요합니다.**
> AI는 맥락을 완벽히 이해하지 못할 수 있습니다.

## 리뷰 체크리스트

### 1. 아키텍처 준수

```markdown
- [ ] 클린 아키텍처 레이어 분리가 올바른가?
- [ ] 의존성 방향이 올바른가? (외부 → 내부)
- [ ] 도메인 계층에 외부 의존성이 없는가?
- [ ] 유스케이스가 단일 책임을 가지는가?
```

### 2. 도메인 모델

```markdown
- [ ] 도메인 모델이 비즈니스 규칙을 올바르게 표현하는가?
- [ ] 불변성이 보장되는가?
- [ ] 도메인 이벤트가 적절히 사용되는가?
- [ ] Value Object와 Entity 구분이 명확한가?
```

### 3. 비즈니스 로직

```markdown
- [ ] 비즈니스 규칙이 정확히 구현되었는가?
- [ ] 엣지 케이스가 처리되었는가?
- [ ] 상태 전이가 올바른가?
- [ ] 동시성 이슈는 없는가?
```

### 4. API 설계

```markdown
- [ ] RESTful 규칙을 따르는가?
- [ ] 에러 응답이 일관적인가?
- [ ] 입력 검증이 충분한가?
- [ ] API 버저닝이 고려되었는가?
```

### 5. 테스트

```markdown
- [ ] 단위 테스트가 충분한가? (커버리지 80%+)
- [ ] 테스트가 비즈니스 규칙을 검증하는가?
- [ ] 엣지 케이스 테스트가 있는가?
- [ ] 통합 테스트가 필요한 부분은?
```

### 6. 성능 & 확장성

```markdown
- [ ] N+1 쿼리 문제는 없는가?
- [ ] 적절한 인덱스가 사용되는가?
- [ ] 캐싱이 필요한 부분은?
- [ ] 대용량 데이터 처리 시 문제는?
```

## AI에게 코드 리뷰 요청하기

**요청 예시**:

다음 코드를 리뷰해주세요:

```kotlin
// 코드 붙여넣기
```

다음 관점에서 검토해주세요:

1. 클린 아키텍처 준수 여부
2. 비즈니스 로직 정확성
3. 테스트 커버리지
4. 잠재적 버그

## AI 리뷰 결과 해석

### 신뢰도 높음 ✅

- 문법 오류
- 명백한 버그
- 아키텍처 위반
- 네이밍 컨벤션

### 신뢰도 중간 ⚠️

- 성능 개선 제안
- 리팩토링 제안
- 테스트 추가 제안

### 신뢰도 낮음 (검증 필요) ❓

- 비즈니스 로직 정확성
- 도메인 특화 규칙
- 기존 코드와의 일관성

## 리뷰 코멘트 템플릿

### 버그 발견

```text
🐛 **버그**: [파일:라인]
현재 코드에서 [문제 설명]

**수정 제안**:
// 수정된 코드
```

### 아키텍처 위반

```text
🏗️ **아키텍처 위반**: [파일:라인]
[위반 내용 설명]

**클린 아키텍처 원칙**:
- [해당 원칙 설명]

**수정 제안**:
[수정 방향]
```

### 개선 제안

```text
💡 **개선 제안**: [파일:라인]
현재 코드도 동작하지만, [개선 이유]

**제안**:
// 개선된 코드
```

### 질문

```text
❓ **질문**: [파일:라인]
[이해가 안 되는 부분]

의도가 [추측]인가요?
```

## PR 리뷰 프로세스

```text
1. PR 생성
   ↓
2. AI 자동 리뷰 (선택적)
   ↓
3. 엔지니어 리뷰
   ↓
4. 수정 및 재리뷰
   ↓
5. Approve & Merge
```

### PR 템플릿 사용

- `.ai-context/templates/pr/` 참조
